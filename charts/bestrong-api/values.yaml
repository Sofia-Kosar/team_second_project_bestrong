replicaCount: 1

image:
  repository: acrbestrong01.azurecr.io/bestrong-api
  tag: "latest"
  pullPolicy: IfNotPresent

imagePullSecrets:
  - name: acr-secret

service:
  port: 80
  targetPort: 5000

ingress:
  enabled: true
  host: "bestrongteam2.duckdns.org"

canary:
  # enabled: true = this is a canary release (deployed to canary.host)
  # enabled: false = this is a production release (deployed to main hostname)
  enabled: false
  
  # host: окремий домен для canary (якщо enabled=true)
  # Приклад: "canary-bestrongteam2.duckdns.org"
  host: ""
  
  # weight: percentage of traffic to send to canary (0-100)
  # When weight > 0, prod release creates TraefikService for weighted routing
  # Example: weight=20 means 20% to canary, 80% to prod
  weight: 10
  stableServiceName: "bestrong-prod"
  stableReleaseName: "bestrong-prod"
postgresql:
  enabled: true
  image:
    registry: acrbestrong01.azurecr.io
    repository: bitnami/postgresql
    tag: "16"
  auth:
    username: bestrong_user
    password: "StrongPassword123!"
    database: bestrong_db
  primary:
    persistence:
      enabled: true
      size: 1Gi


certManager:
  enabled: true
  # Використовуйте "letsencrypt-staging" для тестування, 
  # потім "letsencrypt-prod" для production
  clusterIssuer: "letsencrypt-prod"

monitoring:
  enabled: true
  # Prometheus алерти будуть створені в namespace monitoring
  # Алерти спрацьовують при CPU > 70% та Memory > 70%

env:
  ASPNETCORE_ENVIRONMENT: "Development"
  connectionString: "Host=bestrong-prod-postgresql;Port=5432;Database=bestrong_db;Username=bestrong_user;Password=StrongPassword123!;"

kubecostProductConfigs:
  resources:
    requests:
      cpu: "500m"
      memory: "1Gi"
    limits:
      cpu: "1500m"
      memory: "4Gi"  