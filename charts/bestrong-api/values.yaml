replicaCount: 1

image:
  repository: acrbestrong01.azurecr.io/bestrong-api
  tag: "latest"
  pullPolicy: IfNotPresent

imagePullSecrets:
  - name: acr-secret

service:
  port: 80
  targetPort: 5000

ingress:
  enabled: true
  host: "40.121.187.218.nip.io"

canary:
  # enabled: true = this is a canary release (deployed to canary.hostname)
  # enabled: false = this is a production release (deployed to main hostname)
  enabled: false
  
  # weight: percentage of traffic to send to canary (0-100)
  # When weight > 0, prod release creates TraefikService for weighted routing
  # Example: weight=20 means 20% to canary, 80% to prod
  weight: 10
  stableServiceName: "bestrong-prod"

postgresql:
  enabled: true
  image:
    registry: acrbestrong01.azurecr.io
    repository: bitnami/postgresql
    tag: 16.2.0
  auth:
    username: bestrong_user
    password: "StrongPassword123!"
    database: bestrong_db
  primary:
    persistence:
      enabled: true
      size: 1Gi


certManager:
  enabled: true
  clusterIssuer: "selfsigned-issuer"

env:
  ASPNETCORE_ENVIRONMENT: "Production"
  connectionString: "Host=bestrong-prod-postgresql;Port=5432;Database=bestrong_db;Username=bestrong_user;Password=StrongPassword123!;"
